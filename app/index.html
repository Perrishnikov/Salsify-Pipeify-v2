<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="bootstrap.css" />
        <!-- <link rel="stylesheet" href="styles.css" /> -->
        <link rel="stylesheet" href="override.css" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0"
        />
        <title>Pipeify v2</title>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    </head>
    <body>
        <div id="toast-container" class="toast-container top-0 end-0 p-4 mt-4">
            <!-- Toasts will be added dynamically here -->
        </div>
        <div class="container mt-4">
            <h1 class="text-center mb-4">Salsify: Pipeify v2</h1>
            <ul
                class="nav nav-tabs mb-3 nav-fill fs-5"
                id="pills-tab"
                role="tablist"
            >
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="pills-import-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-import"
                        type="button"
                        role="tab"
                        aria-controls="pills-import"
                        aria-selected="true"
                    >
                        Validate Ingredient Sets
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="pills-duplicate-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-duplicate"
                        type="button"
                        role="tab"
                        aria-controls="pills-duplicate"
                        aria-selected="false"
                    >
                        Duplicate Ingredient Set
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="pills-new-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-new"
                        type="button"
                        role="tab"
                        aria-controls="pills-new"
                        aria-selected="false"
                    >
                        Create New Ingredient Set
                    </button>
                </li>

                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link active"
                        id="pills-1liner-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#pills-1liner"
                        type="button"
                        role="tab"
                        aria-controls="pills-1liner"
                        aria-selected="false"
                    >
                        Create / Edit 1 Liner
                    </button>
                </li>
            </ul>
        </div>
        <div class="tab-content" id="pills-tabContent">
            <!--* Tab1 -->
            <div
                class="tab-pane fade"
                id="pills-import"
                role="tabpanel"
                aria-labelledby="pills-import-tab"
                tabindex="0"
            >
                <div class="container mt-4">
                    <div id="validate-DropArea" class="drop-area">
                        <h5 class="mb-4">
                            Drag and drop a file here or click to select
                        </h5>
                        <div id="validate-fileName" class="ms-4 small"></div>
                        <input
                            type="file"
                            id="fileInputValidate"
                            style="display: none"
                        />
                    </div>

                    <div id="radioButtons" class="mt-4">
                        <h5 class="mb-3">Parsing Options:</h5>
                        <div class="form-check mb-3">
                            <input
                                class="form-check-input"
                                type="radio"
                                name="parsingOptions"
                                id="meh"
                                value="meh"
                            />
                            <label class="form-check-label" for="meh">
                                0 - (No Validation) Creates 3 columns for each
                                of the ingredient types and 1 row per partcode.
                            </label>
                        </div>
                        <div class="form-check">
                            <input
                                class="form-check-input"
                                type="radio"
                                name="parsingOptions"
                                id="option4"
                                value="option4"
                                checked
                            />
                            <label class="form-check-label" for="option4">
                                4 - (Cell Validation) Creates 8 ingredient
                                related columns (1 for each pipe AND 1-3 rows
                                per partcode)
                            </label>
                        </div>
                    </div>
                    <div
                        class="button-box-row mt-4"
                        style="display: flex; justify-content: space-between"
                    >
                        <div id="grow">
                            <button
                                type="salsify"
                                disabled
                                id="download-validate-salsify-btn"
                                class="btn btn-primary me-2"
                            >
                                Download For Salsify
                            </button>
                            <button
                                id="download-validate-customer-btn"
                                class="btn btn-secondary me-2"
                                disabled
                            >
                                Download For Customer
                            </button>
                            <button
                                id="clear-validate-btn"
                                class="btn btn-secondary"
                            >
                                Clear
                            </button>
                        </div>
                        <div class="">
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                id="validate-autoOrder"
                            >
                                Auto Order
                            </button>
                        </div>
                        <div class="">
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                data-bs-toggle="modal"
                                data-bs-target="#help-import-modal"
                            >
                                Help
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Import Modal -->
                <div
                    class="modal fade"
                    id="help-import-modal"
                    tabindex="-1"
                    aria-labelledby="exampleModalLabel"
                    aria-hidden="true"
                >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1
                                    class="modal-title fs-4"
                                    id="exampleModalLabel"
                                >
                                    Import Salsify Ingredient Set Help
                                </h1>
                                <button
                                    type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"
                                ></button>
                            </div>
                            <div class="modal-body">
                                <!-- The Help Modal -->
                                <p>
                                    Pipeify takes a Salsify export, parses it,
                                    and exports it. Used for cleaning up
                                    ingredients (re-import) and to provide
                                    customers with ingredient data.
                                </p>
                                <ul>
                                    <li>
                                        Salsify export must have [PARTCODE or
                                        Product ID, Nutrients, Ingredients,
                                        Other]. Export automatically contains
                                        Product ID, which is required for
                                        re-import.
                                    </li>
                                    <li>
                                        Removes parent record, parses by option,
                                        and leaves other columns as-is.
                                    </li>
                                </ul>
                                <h5>Parsing Option #4</h5>

                                <ul>
                                    <li>
                                        Checks for errors:
                                        <ul>
                                            <li>
                                                <b>Order</b> - Should be number
                                            </li>
                                            <li>
                                                <b>Description</b> - Should not
                                                be empty
                                            </li>
                                            <li>
                                                <b>Qty</b> - Should not be
                                                empty; Should be a number; Can
                                                use "&gt;" and ','
                                            </li>
                                            <li>
                                                <b>UOM</b> - Valid values: 'mg',
                                                'mcg', 'g', 'ml', 'l', 'oz',
                                                'CFU', 'mcg DFE', 'mg DFE', '',
                                                'IU'
                                            </li>
                                            <li>
                                                <b>DV</b> - <br />For Nutrients:
                                                Should be a number; May include
                                                these characters: '**', '&gt;',
                                                ',' <br />For Ingredients:
                                                Should not be empty
                                            </li>
                                            <li>
                                                <b>Sym</b> - <br />For
                                                Nutrients: '%', ''<br />For
                                                Ingredients: '**', ''
                                            </li>
                                            <li>
                                                <b>Foot</b> - <br />For
                                                Nutrients: ‡ , † <br />For
                                                Ingredients: Should be empty
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        All new line characters are remove -
                                        should have 1 line per row.
                                    </li>
                                    <li>
                                        <span class="text-warning">Yellow</span>
                                        indicates possible invalid value.
                                    </li>
                                    <li>
                                        <span class="text-danger">Red</span>
                                        indicates invalid value.
                                    </li>
                                    <li>
                                        May not ADD or DELETE an
                                        <span class="fst-italic">Other</span>
                                        Row
                                    </li>
                                </ul>
                                <h5>Download For Salsify</h5>
                                <ul>
                                    <li>
                                        Only validated options (#4) can be
                                        exported for Salsify.
                                    </li>
                                    <li>
                                        Only exports Product ID, Nutrients,
                                        Ingredients, and Other Ingredients
                                        columns.
                                    </li>
                                </ul>
                                <h5>Download For Customers</h5>
                                <ul>
                                    <li>Removes the Product ID column.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="table-wrapper mt-4 mb-4"
                    id="validate-table-container"
                >
                    <!-- table-validate -->
                </div>
            </div>
            <!--* Tab2 -->
            <div
                class="tab-pane fade"
                id="pills-new"
                role="tabpanel"
                aria-labelledby="pills-new-tab"
                tabindex="0"
            >
                <div class="container mt-4">
                    <form
                        class="d-flex flex-row gx-4 align-items-center pipeify-create needs-validation"
                        novalidate
                    >
                        <div class="d-flex flex-row align-items-center">
                            <label for="input-newIng" class="col-form-label">
                                <h5>Enter Product ID</h5>
                            </label>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-info-circle ms-2 me-4"
                                viewBox="0 0 16 16"
                                data-bs-toggle="tooltip"
                                data-bs-placement="bottom"
                                data-bs-title="Required: Salsify Product ID"
                            >
                                <path
                                    d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"
                                />
                                <path
                                    d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"
                                />
                            </svg>
                        </div>
                        <div class="col-auto me-4">
                            <input
                                type="text"
                                id="input-newIng"
                                class="form-control id-input"
                                aria-describedby="input-newIng"
                            />
                        </div>
                        <div class="col-auto me-4">
                            <button
                                type="submit"
                                class="btn btn-primary"
                                id="newIng-submit-btn"
                            >
                                Create Set
                            </button>
                        </div>
                        <div
                            class="col-auto d-none feedback"
                            id="newIng-feedback"
                        >
                            Product ID must be 14 digits long and start with
                            "000".
                        </div>
                    </form>
                    <!-- Butts -->
                    <div
                        class="button-box-row mt-4"
                        style="display: flex; justify-content: space-between"
                    >
                        <div id="grow">
                            <button
                                type="salsify"
                                id="download-newIng-salsify-btn"
                                class="btn btn-primary me-2"
                                disabled
                            >
                                Download For Salsify
                            </button>
                            <button
                                id="clear-newIng-btn"
                                class="btn btn-secondary"
                            >
                                Clear
                            </button>
                        </div>
                        <div class="">
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                id="newIng-autoOrder"
                            >
                                Auto Order
                            </button>
                        </div>
                        <div>
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                data-bs-toggle="modal"
                                data-bs-target="#help-new-modal"
                            >
                                Help
                            </button>
                        </div>
                    </div>
                </div>
                <!-- New Ingredient Modal -->
                <div
                    class="modal fade"
                    id="help-new-modal"
                    tabindex="-1"
                    aria-labelledby="exampleModalLabel"
                    aria-hidden="true"
                >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1
                                    class="modal-title fs-4"
                                    id="exampleModalLabel"
                                >
                                    Create New Salsify Ingredient Set Help
                                </h1>
                                <button
                                    type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"
                                ></button>
                            </div>
                            <div class="modal-body">
                                <ol>
                                    <li>
                                        First paste the Product ID of the new
                                        item, then click Create Set.
                                    </li>
                                    <li>Update and add new lines as needed.</li>
                                    <li>Click Download For Salsify</li>
                                </ol>

                                <b
                                    >Only one new item can be created at a
                                    time.</b
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <div
                    class="table-wrapper mt-4 mb-4"
                    id="newIng-table-container"
                >
                    <!-- table-newIng -->
                </div>
            </div>
            <!-- *Tab 3 Duplicate-->
            <div
                class="tab-pane fade"
                id="pills-duplicate"
                role="tabpanel"
                aria-labelledby="pills-duplicate-tab"
                tabindex="0"
            >
                <div class="container mt-4">
                    <div id="duplicate-DropArea" class="drop-area">
                        <h5 class="mb-4">
                            Drag and drop a file here or click to select
                        </h5>
                        <div id="duplicate-fileName" class="ms-4 small"></div>
                        <input
                            type="file"
                            id="fileInputDuplicate"
                            style="display: none"
                            onchange=""
                        />
                    </div>

                    <form
                        class="d-flex flex-row mt-4 gx-4 mx-1 align-items-center pipeify-create needs-validation"
                        novalidate
                    >
                        <div class="d-flex flex-row align-items-center">
                            <label for="input-duplicate" class="col-form-label">
                                <h5>Product ID Replacement</h5>
                            </label>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-info-circle ms-2 me-4"
                                viewBox="0 0 16 16"
                                data-bs-toggle="tooltip"
                                data-bs-placement="bottom"
                                data-bs-title="Required: Replacement Salsify Product ID"
                            >
                                <path
                                    d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"
                                />
                                <path
                                    d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"
                                />
                            </svg>
                        </div>

                        <div class="col-auto me-4">
                            <input
                                type="text"
                                id="input-duplicate"
                                class="form-control id-input"
                                aria-describedby="input-duplicate"
                            />
                        </div>
                        <div class="col-auto me-4">
                            <button
                                type="submit"
                                class="btn btn-primary"
                                id="duplicate-submit-btn"
                                disabled
                            >
                                Replace
                            </button>
                        </div>
                        <div
                            class="col-auto d-none feedback"
                            id="duplicate-feedback"
                        >
                            Product ID must be 14 digits long and start with
                            "000".
                        </div>
                    </form>
                    <div
                        class="button-box-row mt-4"
                        style="display: flex; justify-content: space-between"
                    >
                        <div id="grow">
                            <button
                                type="salsify"
                                disabled
                                id="download-duplicate-salsify-btn"
                                class="btn btn-primary me-2"
                            >
                                Download For Salsify
                            </button>
                            <button
                                id="clear-duplicate-btn"
                                class="btn btn-secondary"
                            >
                                Clear
                            </button>
                        </div>
                        <div class="">
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                id="duplicate-autoOrder"
                            >
                                Auto Order
                            </button>
                        </div>
                        <div class="">
                            <!-- Button trigger modal -->
                            <button
                                type="button"
                                class="btn btn-info"
                                data-bs-toggle="modal"
                                data-bs-target="#help-duplicate-modal"
                            >
                                Help
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Replace Ingredient Modal -->
                <div
                    class="modal fade"
                    id="help-duplicate-modal"
                    tabindex="-1"
                    aria-labelledby="help-duplicate-modal"
                    aria-hidden="true"
                >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1
                                    class="modal-title fs-4"
                                    id="help-duplicate-modal"
                                >
                                    Replace Salsify Ingredient Set Help
                                </h1>
                                <button
                                    type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"
                                ></button>
                            </div>
                            <div class="modal-body">
                                <ol>
                                    <li>
                                        Drag and drop file
                                        <b>single item spreadsheet into box</b>
                                    </li>
                                    <li>
                                        Paste the <b>Replacement</b> Product ID
                                        and click Replace
                                    </li>
                                    <li>Update and add new lines as needed.</li>
                                    <li>Click Download For Salsify</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="table-wrapper mt-4 mb-4"
                    id="duplicate-table-container"
                >
                    <!-- table-duplicate -->
                </div>
            </div>
            <!--* Tab4 PLM1-->
            <div
                class="tab-pane fade show active"
                id="pills-1liner"
                role="tabpanel"
                aria-labelledby="pills-1liner-tab"
                tabindex="0"
            >
                <div class="container mt-4">
                    <ul
                        class="nav nav-tabs mb-3 nav-fill fs-5"
                        id="pills-tab"
                        role="tablist"
                    >
                        <li class="nav-item" role="presentation">
                            <a
                                class="nav-link active"
                                id="pills-edit-tab"
                                data-bs-toggle="pill"
                                href="#pills-edit"
                                role="tab"
                                aria-controls="pills-edit"
                                aria-selected="false"
                                >Edit</a
                            >
                        </li>
                        <li class="nav-item" role="presentation">
                            <a
                                class="nav-link"
                                id="pills-create-ingredient-tab"
                                data-bs-toggle="pill"
                                href="#pills-create-ingredient"
                                role="tab"
                                aria-controls="pills-create-ingredient"
                                aria-selected="true"
                                disabled
                                >Create Ingredient</a
                            >
                        </li>
                        <li class="nav-item" role="presentation">
                            <a
                                class="nav-link"
                                id="pills-create-nutrient-tab"
                                data-bs-toggle="pill"
                                href="#pills-create-nutrient"
                                role="tab"
                                aria-controls="pills-create-nutrient"
                                aria-selected="false"
                                disabled
                                >Create Nutrient</a
                            >
                        </li>
                    </ul>

                    <div class="tab-content mt-4" id="pills-tabContent">
                        <div
                            class="tab-pane fade show active"
                            id="pills-edit"
                            role="tabpanel"
                            aria-labelledby="pills-edit-tab"
                        >
                            <!-- Content for Edit -->
                            <div id="edit-PasteArea" class="paste-area">
                                <h5 class="mb-4">
                                    With copied Salsify Ingredient or Nutrient,
                                    click here
                                </h5>
                            </div>

                            <!-- Text Here -->
                        </div>
                        <div
                            class="tab-pane fade"
                            id="pills-create-ingredient"
                            role="tabpanel"
                            aria-labelledby="pills-create-ingredient-tab"
                            
                        >
                            <h4>Create Ingredient</h4>
                            <li>Symbol list</li>
                            <li>button to copy line</li>
                            <!-- Content for Create Ingredient -->
                        </div>
                        <div
                            class="tab-pane fade"
                            id="pills-create-nutrient"
                            role="tabpanel"
                            aria-labelledby="pills-create-nutrient-tab"
                        
                        >
                            <h4>Create Nutrient</h4>
                            <li>Symbol list</li>
                            <li>button to copy line</li>
                            <!-- Content for Create Nutrient -->
                        </div>
                        <div
                            class="button-box-row mt-4"
                            style="
                                display: flex;
                                justify-content: space-between;
                            "
                        >
                            <div id="grow">
                                <button
                                    type="salsify"
                                    id="copy-edit-salsify-btn"
                                    class="btn btn-primary me-2"
                                >
                                    Pipeify
                                </button>
                                <button
                                    id="clear-edit-btn"
                                    class="btn btn-secondary"
                                >
                                    Clear
                                </button>
                            </div>
                            <div class="d-flex flex-row align-items-center">
                                <span class="fs-4">Symbols</span>
                                <span class="mx-3">†</span>
                                <span class="mx-3">‡</span>
                            </div>
                            <div class="">
                                <!-- Button trigger modal -->
                                <button
                                    type="button"
                                    class="btn btn-info"
                                    data-bs-toggle="modal"
                                    data-bs-target="#help-edit-modal"
                                >
                                    Help
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Edit 1 liner Modal -->
                <div
                    class="modal fade"
                    id="help-edit-modal"
                    tabindex="-1"
                    aria-labelledby="help-edit-modal"
                    aria-hidden="true"
                >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1
                                    class="modal-title fs-4"
                                    id="help-edit-modal"
                                >
                                    Edit 1 Liner Help
                                </h1>
                                <button
                                    type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"
                                ></button>
                            </div>
                            <div class="modal-body">
                                <ol>
                                    <li>In Salsify, copy line via EDIT</li>
                                    <li>
                                        Click the big button to paste.
                                        Automatically determines type based on
                                        number of pipes. *Make sure the browser
                                        allows pasting*
                                    </li>
                                    <li>Update line as needed.</li>
                                    <li>
                                        Click <i>Pipeify</i> button to copy
                                        properly piped text to clipboard
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-wrapper mt-4 mb-4" id="edit-table-container">
                    <!-- table-edit -->
                </div>
            </div>
            <!-- </div> -->
        </div>
        <!-- TOAST -->
        <div id="toast-container"></div>

        <!-- Confirm Modal Structure -->
        <div
            class="modal fade"
            id="confirmationModal"
            tabindex="-1"
            aria-labelledby="confirmationModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmationModalLabel">
                            Confirm Action
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        Are you sure you want to delete this row. Can't be
                        undone.
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                        >
                            Cancel
                        </button>
                        <button
                            type="button"
                            id="confirmDelete"
                            class="btn btn-primary"
                        >
                            Confirm
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script scr="scripts/popper.min.js"></script>
        <script src="scripts/bootstrap.bundle.min.js"></script>

        <script src="scripts/toast.js"></script>
        <script src="scripts/globals.js"></script>
        <script src="scripts/cell-validations.js"></script>
        <script src="scripts/processes/process_0.js"></script>
        <script src="scripts/processes/process_1.js"></script>
        <script src="scripts/processes/process_2.js"></script>
        <script src="scripts/processes/process_3.js"></script>
        <script src="scripts/processes/process_4b.js"></script>
        <script src="scripts/main.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
        <script src="scripts/import-export.js"></script>
        <script src="scripts/dom.js"></script>
        <script></script>
    </body>
</html>
